---
title: 'HW #5'
author: "Molly Murphy"
date: "2025-12-01"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, libraries}
library(tidyverse)
library(tigris)
library(sf)
```

```{r, reading in homicide csv}
homicides <- read_csv("../data/homicide-data.csv")
```

```{r, filtering to Oakland, CA}
oak_homicides <- homicides %>% 
  filter(city == "Oakland") %>% 
  st_as_sf(coords = c("lon", "lat")) %>% 
  st_set_crs(4269) %>% 
  mutate(victim_race = factor(victim_race),
         victim_race = fct_lump_n(victim_race, n = 3))
```


```{r, oakland sf}
oakland <- places(state = "CA", 
                           cb = TRUE, 
                           class = "sf") %>% 
  filter(NAME == "Oakland")

alameda_bg <- block_groups(state = "CA", 
                           county = "Alameda", 
                           cb = TRUE, 
                           class = "sf")

oakland_bg <- st_filter(alameda_bg, oakland)
```

```{r}
ggplot() +
  geom_sf(data = oakland_bg, aes()) +
  geom_sf(data = oak_homicides, aes(color = victim_race))
```

